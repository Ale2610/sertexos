os.pullEvent = os.pullEventRaw

--Data

 local version = "1.3"

--Function

function textutils.slowprintC( text )
		local w, h = term.getSize()
		term.setCursorPos((w - #text) / 2, 2)
		write( text )
end

function printRight( text )
        w, h = term.getSize()
        term.setCursorPos(w - #text, 1)
        write(text)
end

function printTRight( text )
        w, h = term.getSize()
        term.setCursorPos(w - #text, 2)
        write(text)
end

function printCenter( text )
        local w, h = term.getSize()
        term.setCursorPos((w - #text) / 2, 1)
        write(text)
end

function printTCenter( text )
        local w, h = term.getSize()
        term.setCursorPos((w - #text) / 2, 2)
        write( text )
end

function printC( text )
        local x, y = term.getSize()
        term.setCursorPos(( x - string.len(text)) / 2, y / 2)
        write( text )
end

if not http then
  print("You need HTTP API enabled!")
else
	
	if fs.exists(".sertexos/pass") then
		shell.run(".sertexos/pass")
	else
		if fs.exists(".sertexos/.data/pass") then
			term.clear()
			term.setCursorPos(2,2)
			term.setTextColor(colors.red)
			write("Insert Password: ")
			local pass = read("*")
			local f = fs.open(".sertexos/.data/pass", "r")
			if pass == f.readLine() then
				f.close()
			else
				print("Wrong Password!")
				sleep(2)
				os.reboot()
			end
			term.clear()
	term.setCursorPos(1,1)
	term.setTextColor(colors.red)
	print("SertexOS" .. "  " .. "V " .. version)
	term.setCursorPos(1,2)
	print("ID: " .. os.getComputerID())
			term.setTextColor(colors.yellow)
			printC("Loading...")
			sleep(1.8)
			shell.run(".sertexos/home")
		else
			term.clear()
	term.setCursorPos(1,1)
	term.setTextColor(colors.red)
	print("SertexOS" .. "  " .. "V " .. version)
	term.setCursorPos(1,2)
	print("ID: " .. os.getComputerID())
			text.setTextColor(colors.yellow)
			printC("Loading...")
			sleep(1.9)
			shell.run(".sertexos/home")
		end
	end
end