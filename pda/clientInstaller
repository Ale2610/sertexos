
--[[ Functions ]]--
-- Misc --
function clear()
        term.clear()
        term.setCursorPos(1,1)
end
 
function Reset()
        clear()
 term.setTextColor(colors.red)
        write("S-Mail Network")
 term.setTextColor(colors.yellow)
        printTR("- Installer -")
 term.setTextColor(colors.white)
        printTM("[ Client Edition ]")
        w, h = term.getSize()
        print(string.rep("-", w)) write("\n")
end
 
function printTR( text )
        w, h = term.getSize()
        term.setCursorPos(w - #text, 1)
        write(text)
end
 
function printTM( text )
        local w, h = term.getSize()
        term.setCursorPos((w - #text) / 2, 1)
        write(text)
end
 
function printC( text )
        local x, y = term.getSize()
        term.setCursorPos(( x - string.len(text)) / 2, y / 2)
        write( text )
end
 
-- Interface --
Reset()
term.setTextColor(colors.yellow)
print("Setting Up Directories...")
os.sleep(1)
fs.makeDir(Root)
fs.makeDir(iRoot)
print("Getting Needed Files...")
Network = http.get("https://dl.dropboxusercontent.com/u/135761538/computercraft/mail%20network/client/Network.lua")
S-mail = http.get("https://dl.dropboxusercontent.com/u/135761538/computercraft/mail%20network/client/s-mail")
f = fs.open("s-mail", "w")
f.write(S-mail.readAll())
f.close()
f = fs.open(Root .. "Network.lua", "w")
f.write(Network.readAll())
f.close()
term.setTextColor(colors.lime)
print("\nDone!")
os.sleep(1)
Reset()
print("S-Mail Server Downloaded Successfully!\nEdition: Client")
term.setTextColor(colors.yellow)
print("\n(-)Ok")
term.setTextColor(colors.white)
repeat
        event, key = os.pullEvent("key")
        os.sleep(0.1)
until key == 28
os.reboot()